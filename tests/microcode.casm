
//number format definition
.number .hex suffix 'h'
.number .oct suffix 'o'
.number .bin suffix 'b'

.enum reg {
    A,
    T,
    X,
    Z,
    PCL,
    PCH,
    L,
    H,
    Param
}

.enum bus {
    ARi,
    R,
    D,
    ALU
}

.enum test {
    true,
    p0,
    p1,
    p2
}

.opcode dw rst ld sel_test mask wr ldflag sel_bus sel_reg ld_rh ld_rl ld_dh ld_dl ld_arh ld_arl sel_mem {
    .db (rst << 3) + (ld << 2) + sel_test;
    if sel_reg == 8 {
        .dw ~sel_mem + (ld_arl << 1) + (ld_arh << 2) + (ld_dl << 3) + (ld_dh << 4) + (ld_rl << 5) + (ld_rh << 6) + (A << 7) + (0 << 10) + (sel_bus << 11) + (ldflag << 13) + (wr << 14) + (mask << 15);
    } else {
        .dw ~sel_mem + (ld_arl << 1) + (ld_arh << 2) + (ld_dl << 3) + (ld_dh << 4) + (ld_rl << 5) + (ld_rh << 6) + (sel_reg << 7) + (1 << 10) + (sel_bus << 11) + (ldflag << 13) + (wr << 14) + (mask << 15);
    }
}